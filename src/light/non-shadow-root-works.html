<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JS API Web Components - Visual Builder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#16161d" />

    <!-- <script type="module" src="/index.js"></script> -->
    <script
      type="module"
      src="https://js.arcgis.com/calcite-components/1.11.0/calcite.esm.js"
    ></script>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://js.arcgis.com/calcite-components/1.11.0/calcite.css"
    />

    <link
      rel="stylesheet"
      href="https://js.arcgis.com/4.28/esri/themes/light/main.css"
    />
    <script src="https://js.arcgis.com/4.28/"></script>
    <script
      type="module"
      src="https://js.arcgis.com/map-components/4.28/arcgis-map-components.esm.js"
    ></script>

    <link rel="apple-touch-icon" href="/assets/icon/icon.png" />
    <link rel="icon" type="image/x-icon" href="/assets/icon/favicon.ico" />
    <link rel="manifest" href="/manifest.json" />
  </head>
  <body>
    <calcite-shell>
      <calcite-navigation slot="header">
        <calcite-navigation-logo slot="logo" />
      </calcite-navigation>
      <map-wrapper></map-wrapper>
      <!--<arcgis-map
        item-id="e691172598f04ea8881cd2a4adaa45ba"
        zoom="4"
        style="height: 100%"
      >
        <arcgis-layer-list position="top-right" />
      </arcgis-map>-->
    </calcite-shell>
  </body>
  <script>
    class MapWrapper extends HTMLElement {
      constructor() {
        super();
      }
      connectedCallback() {
        const container = document.createElement('arcgis-map');
        container.setAttribute('item-id', 'e691172598f04ea8881cd2a4adaa45ba');
        container.setAttribute('zoom', '4');

        const layerList = document.createElement('arcgis-layer-list');
        layerList.setAttribute('position', 'top-right');
        container.append(layerList);

        this.style.height = '100%';
        this.append(container);
      }
    }
    customElements.define('map-wrapper', MapWrapper);
  </script>
</html>
